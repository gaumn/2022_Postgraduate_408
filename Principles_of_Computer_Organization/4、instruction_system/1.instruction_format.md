# 指令格式

指令(或者机器指令)是指示计算机执行某种操作的命令，是计算机运行的最小功能单元。

指令集(指令系统)：一台计算机所有的指令的集合。

指令系统是计算机的主要属性，是位于硬件和软件的交互界面上。

指令系统是计算机硬件的语言系统。

## 指令的基本格式

一条指令就是机器语言的一个语句，它是一组有意义的二进制代码，一条指令通常包括操作码字段和地址码字段两个部分。

| 操作码字段 | 地址码字段 |
| :--------: | :--------: |

### 零地址指令

| OP(操作码) |
| :--------: |

可能出现的是：

**1、使用在不需要操作数的指令，如空操作指令、停机指令、关中断指令等**

**2、可能出现在堆栈计算机中。其中隐含地址码部分为栈顶和次栈顶。**

### 一地址指令

|  OP  |  A1  |
| :--: | :--: |

可能出现：

**1、只有目的地址的单操作数指令，如自加指令，自减指令，取反，取补等**

**2、隐含约定，如ACC，先取操作数A1，而后取ACC寄存器中的数与A1进行运算，而后再将结果放入ACG寄存器中**

### 二地址指令

|  OP  | A1(目的操作数) | A2(源操作数) |
| :--: | :------------: | :----------: |

 先取源操作数A2，再取目的操作数A1，然后运算，将运算结果送入目的操作数A1中。

### 三地址指令

|  OP  |  A1  |  A2  | A3(结果) |
| :--: | :--: | :--: | :------: |

先取源操作数A1，A2进行运算，将运算结果放入结果A3中

### 四地址指令

|  OP  |  A1  |  A2  | A3(结果) | A4(下址) |
| :--: | :--: | :--: | :------: | :------: |

先取源操作数A1，A2进行运算，将运算结果放入结果A3中,然后跳转到地址A4处(下一条要执行的治疗)

[注]：CPU执行指令的过程中，指令的地址由**程序计数器(PC)**给出

## 定长操作数指令格式

OP的长度固定。

定长操作数对于简化计算机硬件设计、提高指令译码和识别速度很有利。(当计算机字长为32位或更长，是常规用法)

## 扩展操作数指令格式

OP长度可变。

注意事项：

**1、不允许短码是长码的前缀，即短操作码不能与长操作码的前面部分相同**

**2、各指令不允许重复**

为了在指令字长有限的前提下仍**保持比较丰富的指令种类**，可采用可变长度的操作码，即指令的操作码字段的位数不固定，且分散地放在指令字的不同位置。

这将增加指令译码和分析的难度，使控制器的设计复杂化。

常见的变长操作码的方法是**扩展操作码**，它使操作码的长度随地址码的减少而增加，不同的地址码指令可具有不同长度的操作码，从而**在满足需求的情况下，有效缩短指令字长**。

